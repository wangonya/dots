[colors]
bg = ${xrdb:background}
bg-alt = ${xrdb:color8}
bg-darker = ${xrdb:color0}
fg = ${xrdb:foreground}
fg-alt = ${xrdb:color8}

cyan = ${xrdb:color6}
blue = ${xrdb:color4}
green = ${xrdb:color2}
orange = ${xrdb:color3}
red = ${xrdb:color1}
yellow = ${xrdb:color11}

[bar/main]
width = 100%
height = 30
offset-y = 5
border-left-size = 10
border-right-size = 10
module-margin = 3
bottom = false
fixed-center = true

wm-restack = bspwm

override-redirect = false

scroll-up = next
scroll-down = prev

enable-ipc = true

background = ${colors.bg}
foreground = ${colors.fg}

modules-left = bspwm
modules-center =
modules-right = mpd fs memory cpu wlan wired pulseaudio-output pulseaudio-input date

tray-background = ${colors.bg}
tray-position = right
tray-maxsize = 20
tray-detached = false
tray-offset-x = 0
tray-offset-y = 0
tray-padding = 10
tray-scale = 1

cursor-click = pointer
cursor-scroll = ns-resize

font-0 = "DM Sans:size=11;2"
font-1 = "Font Awesome 6 Free Solid:size=12;2"

[module/bspwm]
type = internal/bspwm

format = <label-state>
pin-workspaces = false

label-focused = %name%
label-focused-foreground = ${colors.fg}
label-focused-padding = 2

label-occupied = %name%
label-occupied-foreground = ${colors.cyan}
label-occupied-padding = 2

label-urgent = %name%
label-urgent-foreground = ${colors.red}
label-urgent-padding = 2

label-empty = %name%
label-empty-foreground = ${colors.fg-alt}
label-empty-padding = 2

[module/cpu]
type = internal/cpu

interval = 1
warn-percentage = 60

format = ""
format-warn = <label-warn>
format-warn-prefix = 
format-warn-prefix-foreground = ${colors.red}
label-warn = %percentage%%
label-warn-foreground = ${colors.red}
label-warn-padding = 1

[module/date]
type = internal/date
interval = 5

time-alt = "%H:%M"
time = "%a, %b %d   %H:%M"

format = <label>
; format-prefix = 
label = %time%
; label-padding = 2
label-foreground = ${colors.fg}

[module/memory]
type = internal/memory

interval = 1
warn-percentage = 60

format = ""
format-warn = <label-warn>
format-warn-prefix = 
format-warn-prefix-foreground = ${colors.red}
label-warn = %percentage_used%%
label-warn-foreground = ${colors.red}
label-warn-padding = 2

[module/pulseaudio-output]
type = custom/script
tail = true
label-padding = 2
label-foreground = ${colors.fg}

exec = pulseaudio-control --format '$VOL_ICON  ${VOL_LEVEL}%' --icons-volume "," --icon-muted " " --color-muted 585B70 --volume-max 70 listen
click-right = exec pavucontrol &
click-left = pulseaudio-control togmute
scroll-up = pulseaudio-control up
scroll-down = pulseaudio-control down

[module/pulseaudio-input]
type = custom/script
tail = true
label-padding = 2
label-foreground = ${colors.fg}

exec = pulseaudio-control --node-type input --format '$VOL_ICON  ${VOL_LEVEL}%' --icons-volume "" --icon-muted " " --color-muted 585B70 --volume-max 30 listen
click-right = exec pavucontrol &
click-left = pulseaudio-control --node-type input togmute
scroll-up = pulseaudio-control --node-type input --volume-max 30 up
scroll-down = pulseaudio-control --node-type input --volume-max 30 down

[module/title]
type = internal/xwindow

format = <label>
label = %title%
label-maxlen = 35

[module/wired]
type = internal/network
interface = enp0s31f6
interval = 1.0

format-connected = <label-connected>
format-connected-padding = 2
format-connected-prefix-foreground = ${colors.fg}
; label-connected = 󰓢%upspeed:9:9%%downspeed:9:9%
label-connected = 
label-connected-foreground = ${colors.fg}

format-disconnected = <label-disconnected>
format-disconnected-padding = 2
format-disconnected-prefix = 󰌗
label-disconnected-foreground = ${colors.fg-alt}

[module/wlan]
type = internal/network
interface = wlp2s0
interval = 1.0

format-connected = %{A1:networkmanager_dmenu:}%{A3:nm-connection-editor:}<ramp-signal> <label-connected>%{A}%{A}
; label-connected = %essid% %signal%% 󰓢%upspeed:9:9%%downspeed:9:9%
label-connected = %essid%
label-connected-padding = 2

format-disconnected = %{A1:networkmanager_dmenu:}%{A3:nm-connection-editor:}<label-disconnected>%{A}%{A}
label-disconnected = 
label-disconnected-foreground = ${colors.fg-alt}

ramp-signal-0 =%{F#ac8a8c}%{F-}
ramp-signal-1 =%{F#ac8a8c}%{F-}
ramp-signal-2 =%{F#aca98a}%{F-}
ramp-signal-3 =
ramp-signal-4 =
ramp-signal-5 =

[module/mpd]
type = internal/mpd
interval = 1
;host = 127.0.0.1
;port = 6600
;password = 12345

format-online = <label-song>
format-online-prefix = 
format-online-prefix-foreground = ${colors.cyan}
format-stopped = ""
format-paused = <label-song>
format-paused-foreground = ${colors.red}

label-song = %title%  •  %album%
label-song-padding = 3
label-song-foreground = ${colors.cyan}

[module/battery]
type = internal/battery

; $ ls -1 /sys/class/power_supply/
battery = BAT0
adapter = AC

format-charging-prefix = 
format-full-prefix = 

format-charging = <label-charging>
format-discharging = <ramp-capacity> <label-discharging>
format-full = <label-full>

label-charging-padding = 2
label-discharging-padding = 2
label-full-padding = 2
label-low-padding = 2

label-charging = %percentage%%
label-discharging = %percentage%%
label-full = %percentage%%
label-low = %percentage%%

ramp-capacity-0 = %{F#ac8a8c}%{F-}
ramp-capacity-1 = %{F#ac8a8c}%{F-}
ramp-capacity-2 = %{F#aca98a}%{F-}
ramp-capacity-3 = 
ramp-capacity-4 = 

[module/fs]
type = internal/fs

; Mountpoints to display
mount-0 = /

; update every two days
interval = 172800

warn-percentage = 70

label-mounted = ""
format-warn = <label-warn>
format-warn-prefix = 
format-warn-prefix-foreground = ${colors.red}
label-warn = %percentage_used%%
label-warn-foreground = ${colors.red}
label-warn-padding = 2

[settings]
screenchange-reload = false
